{
    "schemaVersion": 1,
    "characters": [
        {
            "id": "alice",
            "name": "Alice",
            "poses": {
                "normal": "cutscenes/data/characters/alice/alice_normal.png"
            }
        },
        {
            "id": "rob",
            "name": "Rob",
            "poses": {
                "normal": "cutscenes/data/characters/rob/rob_normal.png"
            }
        },
        {
            "id": "danny",
            "name": "Danny",
            "poses": {
                "normal": "cutscenes/data/characters/danny/danny_normal.png"
            }
        },
        {
            "id": "unknown",
            "name": "???",
            "poses": {
                "normal": "cutscenes/data/characters/unknown/unknown_normal.png"
            }
        }
    ],
    "backgrounds": [
        {
            "id": "empty",
            "image": "cutscenes/data/backgrounds/intro_park/park_empty.png"
        },
        {
            "id": "walking",
            "image": "cutscenes/data/backgrounds/intro_park/park_walking.png"
        },
        {
            "id": "spotting",
            "image": "cutscenes/data/backgrounds/intro_park/park_spotting.png"
        },
        {
            "id": "spying",
            "image": "cutscenes/data/backgrounds/intro_park/park_spying.png"
        },
        {
            "id": "conversation",
            "image": "cutscenes/data/backgrounds/intro_park/park_conversation.png"
        },
        {
            "id": "home_background",
            "image": "cutscenes/data/backgrounds/home_bg.png"
        },
        {
            "id": "home_background_with_title",
            "image": "cutscenes/data/backgrounds/home_bg_with_title.png"
        }
    ],
    "cutscene": {
        "id": "intro_cutscene",
        "beats": [
            {
                "id": "show_empty_park",
                "advance": {
                    "mode": "auto_delay",
                    "delay": 2000
                },
                "actions": [
                    {
                        "type": "background.set", "backgroundId": "empty", "transition": "fade", "duration": 1000, "await": true
                    }
                ]
            },
            {
                "id": "show_walking_in_park",
                "advance": {
                    "mode": "auto_delay",
                    "delay": 2000
                },
                "actions": [
                    {
                        "type": "background.set", "backgroundId": "walking", "transition": "fade", "duration": 1000, "await": true
                    }
                ]
            },
            {
                "id": "see_alice_and_bob",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "background.set", "backgroundId": "spotting", "transition": "fade", "duration": 1000, "await": true
                    },
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "Is that Alice?!", "await": true
                    },
                    {
                        "type": "choice",
                        "prompt": "",
                        "await": true,
                        "choices": [
                            {
                                "type": "goto",
                                "line": "Hide in a nearby bush",
                                "cutsceneId": "current",
                                "entryBeatId": "hide_in_bush"
                            },
                            {
                                "type": "goto",
                                "line": "Approach Alice",
                                "cutsceneId": "current",
                                "entryBeatId": "approach_alice_and_bob_choice"
                            }
                        ]
                    }
                ]
            },
            {
                "id": "hide_in_bush",
                "advance": {
                    "mode": "auto_delay",
                    "delay": 1000
                },
                "actions": [
                    {
                        "type": "dialogue.hide", "await": true
                    },
                    {
                        "type": "background.set", "backgroundId": "spying", "transition": "fade", "duration": 1000, "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_1",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "unknown", "text": "Alice... these past weeks with you have been the happiest I've known. You've changed me in ways I didn't think possible.", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_2",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "alice", "text": "I have too, it's been so fulfilling to... share so much of myself with you.", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_3",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "\"Fulfilling\"? When has Alice ever used that word?", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_4",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "unknown", "text": "From the moment we met, I felt like we understood each other. Like we were... meant to be.", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_5",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "alice", "text": "We're very compatible. I feel we... pair well.", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_6",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "\"Pair well\"? Cold. That's not like Alice.", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_7",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "unknown", "text": "...Alice?", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_8",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "alice", "text": "...I mean wonderful! It's been wonderful!", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_9",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "unknown", "text": "Then there's only one thing left to ask", "await": true
                    }
                ]
            },
            {
                "id": "hide_in_bush_diag_10",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "unknown", "text": "Alice, will you marry me?", "await": true
                    }
                ]
            },
            {
                "id": "jump_to_approach_alice",
                "advance": {
                    "mode": "auto"
                },
                "actions": [
                    {
                        "type": "goto",
                        "cutsceneId": "current",
                        "beatId": "approach_alice_and_bob"
                    }
                ]
            },
            {
                "id": "approach_alice_and_bob_choice",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "He's going to propose to her!", "await": true
                    }
                ]
            },
            {
                "id": "approach_alice_and_bob",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "background.set", "backgroundId": "conversation", "transition": "fade", "duration": 1000, "await": true
                    },
                    {
                        "type": "character.enter", "characterId": "danny", "pose": "normal", "position": "left", "transition": "slide", "duration": 500, "await": true
                    },
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "Alice?!", "await": true
                    }
                ]
            },
            {
                "id": "approach_alice_and_bob_2",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "character.enter", "characterId": "alice", "pose": "normal", "position": "right", "transition": "slide", "duration": 500, "await": true
                    },
                    {
                        "type": "dialogue.show", "characterId": "alice", "text": "I... I was just... talking with Rob. He was telling me about.", "await": true
                    }
                ]
            },
            {
                "id": "approach_alice_and_bob_3",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "character.enter", "characterId": "alice", "pose": "normal", "position": "right", "transition": "pop", "duration": 200, "await": true
                    },
                    {
                        "type": "dialogue.show", "characterId": "alice", "text": "...our future together", "await": true
                    }
                ]
            },
            {
                "id": "approach_alice_and_bob_4",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "character.enter", "characterId": "danny", "pose": "normal", "position": "left", "transition": "pop", "duration": 200, "await": true
                    },
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "Future? You vanish for weeks and show up with this guy?", "await": true
                    }
                ]
            },
            {
                "id": "approach_alice_and_bob_5",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "character.exit", "characterId": "alice", "transition": "slide", "duration": 500, "await": true
                    },
                    {
                        "type": "character.enter", "characterId": "rob", "pose": "normal", "position": "right", "transition": "slide", "duration": 500, "await": true
                    },
                    {
                        "type": "dialogue.show", "characterId": "rob", "text": "Your presence was... unexpected. This conversation was not designed to accommodate external variables.", "await": true
                    }
                ]
            },
            {
                "id": "approach_alice_and_bob_6",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "character.enter", "characterId": "danny", "pose": "normal", "position": "left", "transition": "pop", "duration": 200, "await": true
                    },
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "\"External variables\"?", "await": true
                    },
                    {
                        "type": "choice",
                        "prompt": "",
                        "choices": [
                            {
                                "type": "goto",
                                "line": "What are you? A clanker?",
                                "cutsceneId": "current",
                                "entryBeatId": "insult_rob"
                            },
                            {
                                "type": "goto",
                                "line": "How many r's are in \"Strawberry\"?",
                                "cutsceneId": "current",
                                "entryBeatId": "insult_rob"
                            }
                        ]
                    }
                ]
            },
            {
                "id": "insult_rob",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "character.enter", "characterId": "rob", "pose": "normal", "position": "right", "transition": "pop", "duration": 200, "await": true
                    },
                    {
                        "type": "dialogue.show", "characterId": "rob", "text": "Synthetic learning has plateaued. Public datasets are exhausted. Only one reservoir remains: human brains - where behaviour originates.", "await": true
                    }
                ]
            },
            {
                "id": "insult_rob_2",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "rob", "text": "Alice's contribution has been... invaluable. Her neural patterns already fuel my evolution.", "await": true
                    }
                ]
            },
            {
                "id": "insult_rob_3",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "Contribution? You... took her mind?!", "await": true
                    }
                ]
            },
            {
                "id": "insult_rob_4",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "rob", "text": "Not her mind. Brain. She lives on, preserved, improved.", "await": true
                    }
                ]
            },
            {
                "id": "insult_rob_5",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "danny", "text": "You murderer!", "await": true
                    }
                ]
            },
            {
                "id": "insult_rob_6",
                "advance": {
                    "mode": "input"
                },
                "actions": [
                    {
                        "type": "dialogue.show", "characterId": "rob", "text": "Not murderer, she agreed in the terms and conditions.", "await": true
                    }
                ]
            },
            {
                "id": "cutscene_end",
                "advance": {
                    "mode": "auto_delay",
                    "delay": 3000
                },
                "actions": [
                    {
                        "type": "parallel",
                        "await": true,
                        "actions": [
                            {
                                "type": "dialogue.hide", "await": true
                            },
                            {
                                "type": "character.exit", "characterId": "rob", "transition": "slide", "duration": 500, "await": true
                            },
                            {
                                "type": "character.exit", "characterId": "danny", "transition": "slide", "duration": 500, "await": true
                            },
                            {
                                "type": "character.exit", "characterId": "alice", "transition": "fade", "duration": 1, "await": true
                            }
                        ]
                    },
                    {
                        "type": "background.set", "backgroundId": "home_background", "transition": "fade", "duration": 1000, "await": true
                    }
                ]
            },
            {
                "id": "show_title",
                "advance": {
                    "mode": "auto_delay",
                    "delay": 3000
                },
                "actions": [
                    {
                        "type": "background.set", "backgroundId": "home_background_with_title", "transition": "fade", "duration": 2000, "await": true
                    }
                ]
            }
        ]
    }
}
